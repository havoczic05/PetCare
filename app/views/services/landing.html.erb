<div style="background-color: white;">
  <%# SEARCH %>
  <div class="mb-4">
    <%= form_with url: landing_path, method: :get, class: "d-flex justify-content-center", data: { turbo_frame: "services_frame" } do %>
      <%= text_field_tag :query, params[:query], class: "form-control me-2 rounded-pill", placeholder: "Search by address", style: "max-width: 500px;" %>
      <%= submit_tag "Search", class: "btn btn-warning rounded-pill text-white" %>
    <% end %>
  </div>
  <%# SEARCH %>

  <div class="container pb-5">
    <h2 class="py-3 text-center">Find your ideal <span style="color: #FD8522">Pet Sitter</span></h2>
    <div class="row pb-5">
      <div class="col-2">
        <%= link_to landing_path(specie: 'Dog'), class: 'card-link' do %>
          <div class="card-category" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url(<%= asset_path 'dog.png' %>); transition: 0.25s ease ">
            Dogs
          </div>
        <% end %>
      </div>
      <div class="col-2">
        <%= link_to landing_path(specie: 'Cat'), class: 'card-link' do %>
          <div class="card-category" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url(<%= asset_path 'cat.jpg' %>); transition: 0.25s ease">
            Cats
          </div>
        <% end %>
      </div>
      <div class="col-2">
        <%= link_to landing_path(specie: 'Rodent'), class: 'card-link' do %>
          <div class="card-category" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url(<%= asset_path 'rabbit.png' %>); transition: 0.25s ease">
            Rodents
          </div>
        <% end %>
      </div>
      <div class="col-2">
        <%= link_to landing_path(specie: 'Bird'), class: 'card-link' do %>
          <div class="card-category" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url(<%= asset_path 'bird2.png' %>); transition: 0.25s ease">
            Birds
          </div>
        <% end %>
      </div>
      <div class="col-2">
        <%= link_to landing_path(specie: 'Reptile'), class: 'card-link' do %>
          <div class="card-category" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url(<%= asset_path 'reptile.png' %>); transition: 0.25s ease">
            Reptiles
          </div>
        <% end %>
      </div>
      <div class="col-2">
        <%= link_to landing_path(specie: 'Others'), class: 'card-link' do %>
          <div class="card-category" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url(<%= asset_path 'fish.png' %>); transition: 0.25s ease">
            Others
          </div>
        <% end %>
      </div>
    </div>

    <%# Turbo Frame for services %>

      <div class="r-added-cards">
        <% if @services.any? %>
          <% @services.reverse.each do |service| %>
            <%= link_to service_path(service), class: "card-link" do %>
              <div class="card-service">
                <%= cl_image_tag service.photo.key, height: 300, width: 400, crop: :fill %>
                <div class="card-service-infos pb-3">
                  <div>
                    <div class="d-flex py-1 align-items-center">
                      <%= cl_image_tag service.user.photo.key, class: "avatar mx-2", alt: "service provider photo", crop: :fill, height: 40 %>
                      <h2><%= service.user.first_name %> <%= service.user.last_name %></h2>
                    </div>
                    <h4 class="pt-3 pb-1 m-0">Takes care of a: <strong style="color: #FD8522"><%= service.specie %></strong></h4>
                    <p><%= service.address %></p>
                  </div>
                </div>
                <div class="d-flex pb-3">
                  <h2 class="ms-auto me-4">$ <%= service.price %> per day</h2>
                </div>
              </div>
            <% end %>
          <% end %>
        <% else %>
          <em>Sorry, no sitters found.</em>
        <% end %>
      </div>

  </div>
</div>
